{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * link-tor.life - Core System v1.0 (2026)\n * Includes: Three.js, Mobile Nav, Scroll Animations, Tabs, and AJAX-form logic.\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    // --- 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК (LUCIDE) ---\n    const initIcons = () => {\n        if (typeof lucide !== 'undefined') {\n            lucide.createIcons();\n        }\n    };\n    initIcons();\n\n    // --- 2. МОБИЛЬНОЕ МЕНЮ (БЕЗ ОВЕРЛЕЯ) ---\n    const burger = document.querySelector('.burger');\n    const navMenu = document.querySelector('.nav__menu');\n    \n    if (burger && navMenu) {\n        const toggleMenu = () => {\n            burger.classList.toggle('active');\n            navMenu.classList.toggle('active');\n            // Блокировка скролла при открытом меню\n            document.body.style.overflow = navMenu.classList.contains('active') ? 'hidden' : '';\n        };\n\n        burger.addEventListener('click', toggleMenu);\n\n        // Закрытие при клике на ссылки\n        navMenu.querySelectorAll('a').forEach(link => {\n            link.addEventListener('click', () => {\n                if (navMenu.classList.contains('active')) toggleMenu();\n            });\n        });\n    }\n\n    // --- 3. ЭФФЕКТЫ СКРОЛЛА ДЛЯ HEADER ---\n    const header = document.querySelector('.header');\n    window.addEventListener('scroll', () => {\n        if (window.scrollY > 50) {\n            header.style.padding = '12px 0';\n            header.style.background = 'rgba(15, 15, 18, 0.95)';\n        } else {\n            header.style.padding = '20px 0';\n            header.style.background = 'rgba(15, 15, 18, 0.8)';\n        }\n    });\n\n    // --- 4. HERO BACKGROUND (THREE.JS) ---\n    const initHero = () => {\n        const container = document.getElementById('hero-canvas-container');\n        if (!container || typeof THREE === 'undefined') return;\n\n        const scene = new THREE.Scene();\n        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\n        \n        renderer.setSize(window.innerWidth, window.innerHeight);\n        container.appendChild(renderer.domElement);\n\n        // Параметры частиц\n        const geometry = new THREE.BufferGeometry();\n        const vertices = [];\n        const particleCount = 2000;\n\n        for (let i = 0; i < particleCount; i++) {\n            vertices.push(THREE.MathUtils.randFloatSpread(1500)); \n            vertices.push(THREE.MathUtils.randFloatSpread(1500)); \n            vertices.push(THREE.MathUtils.randFloatSpread(1500)); \n        }\n\n        geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));\n        const material = new THREE.PointsMaterial({ color: 0x6366f1, size: 2, transparent: true, opacity: 0.6 });\n        const points = new THREE.Points(geometry, material);\n        scene.add(points);\n\n        camera.position.z = 500;\n\n        let mouseX = 0, mouseY = 0;\n        document.addEventListener('mousemove', (e) => {\n            mouseX = (e.clientX - window.innerWidth / 2) * 0.04;\n            mouseY = (e.clientY - window.innerHeight / 2) * 0.04;\n        });\n\n        function animate() {\n            requestAnimationFrame(animate);\n            points.rotation.y += 0.001;\n            camera.position.x += (mouseX - camera.position.x) * 0.05;\n            camera.position.y += (-mouseY - camera.position.y) * 0.05;\n            camera.lookAt(scene.position);\n            renderer.render(scene, camera);\n        }\n        animate();\n\n        window.addEventListener('resize', () => {\n            camera.aspect = window.innerWidth / window.innerHeight;\n            camera.updateProjectionMatrix();\n            renderer.setSize(window.innerWidth, window.innerHeight);\n        });\n    };\n    initHero();\n\n    // --- 5. ТАБЫ (ИННОВАЦИИ) ---\n    const tabsButtons = document.querySelectorAll('.tabs__btn');\n    const tabsPanes = document.querySelectorAll('.tabs__pane');\n\n    tabsButtons.forEach(btn => {\n        btn.addEventListener('click', () => {\n            const target = btn.getAttribute('data-tab');\n            tabsButtons.forEach(b => b.classList.remove('active'));\n            tabsPanes.forEach(p => p.classList.remove('active'));\n            btn.classList.add('active');\n            document.getElementById(target).classList.add('active');\n            initIcons(); // Обновляем иконки в новом табе\n        });\n    });\n\n    // --- 6. ОБРАБОТКА ФОРМЫ (VALIDATION & AJAX IMITATION) ---\n    const contactForm = document.getElementById('ajax-form');\n    const successMsg = document.getElementById('form-success');\n    const captchaText = document.getElementById('captcha-question');\n    const phoneInput = document.getElementById('phone');\n\n    // Генерация капчи\n    const n1 = Math.floor(Math.random() * 10) + 1;\n    const n2 = Math.floor(Math.random() * 5) + 1;\n    const captchaResult = n1 + n2;\n    if (captchaText) captchaText.textContent = `${n1} + ${n2}`;\n\n    // Только цифры в телефоне\n    if (phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/\\D/g, '');\n        });\n    }\n\n    if (contactForm) {\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n            \n            // Проверка капчи\n            const userVal = parseInt(document.getElementById('captcha-answer').value);\n            if (userVal !== captchaResult) {\n                alert('Ошибка: Решите пример правильно.');\n                return;\n            }\n\n            const btn = contactForm.querySelector('button');\n            btn.disabled = true;\n            btn.textContent = 'Отправка...';\n\n            // Имитация задержки сети\n            setTimeout(() => {\n                contactForm.style.display = 'none'; // Скрываем саму форму\n                successMsg.style.display = 'flex';  // Показываем блок успеха\n                initIcons(); // Прогружаем иконку в блоке успеха\n            }, 1500);\n        });\n    }\n\n    // --- 7. COOKIE POPUP ---\n    const cookiePop = document.getElementById('cookie-popup');\n    const cookieBtn = document.getElementById('accept-cookies');\n\n    if (cookiePop && !localStorage.getItem('cookieConsent')) {\n        setTimeout(() => cookiePop.classList.add('active'), 2500);\n    }\n\n    if (cookieBtn) {\n        cookieBtn.addEventListener('click', () => {\n            localStorage.setItem('cookieConsent', 'true');\n            cookiePop.classList.remove('active');\n        });\n    }\n\n    // --- 8. АНИМАЦИЯ ПОЯВЛЕНИЯ (SCROLL REVEAL) ---\n    const revealItems = document.querySelectorAll('.about__content, .benefit-card, .edu-card');\n    const obs = new IntersectionObserver((entries) => {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                entry.target.classList.add('visible');\n                // Если это преимущество, запускаем CSS-анимацию\n                if (entry.target.classList.contains('benefit-card')) {\n                    entry.target.style.opacity = '1';\n                    entry.target.style.transform = 'translateY(0)';\n                }\n            }\n        });\n    }, { threshold: 0.1 });\n\n    revealItems.forEach(item => obs.observe(item));\n});"],"names":["initIcons","burger","navMenu","toggleMenu","link","header","container","scene","camera","renderer","geometry","vertices","particleCount","i","material","points","mouseX","mouseY","e","animate","tabsButtons","tabsPanes","btn","target","b","p","contactForm","successMsg","captchaText","phoneInput","n1","n2","captchaResult","cookiePop","cookieBtn","revealItems","obs","entries","entry","item"],"mappings":"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"}